# 2단계 - 블랙잭

## 기능 요구사항
- 카드의 숫자 계산은 카드 숫자를 기본으로 하며, 예외로 Ace는 1 또는 11로 계산할 수 있으며, King, Queen, Jack은 각각 10으로 계산한다.
- 게임을 시작하면 플레이어는 두 장의 카드를 지급 받으며, 두 장의 카드 숫자를 합쳐 21을 초과하지 않으면서 21에 가깝게 만들면 이긴다. 21을 넘지 않을 경우 원한다면 얼마든지 카드를 계속 뽑을 수 있다.

## 실행 결과
```
게임에 참여할 사람의 이름을 입력하세요.(쉼표 기준으로 분리)
pobi,jason

pobi, jason에게 2장의 나누었습니다.
pobi카드: 2하트, 8스페이드
jason카드: 7클로버, K스페이드

pobi는 한장의 카드를 더 받겠습니까?(예는 y, 아니오는 n)
y
pobi카드: 2하트, 8스페이드, A클로버
pobi는 한장의 카드를 더 받겠습니까?(예는 y, 아니오는 n)
n
jason은 한장의 카드를 더 받겠습니까?(예는 y, 아니오는 n)
n
jason카드: 7클로버, K스페이드

pobi카드: 2하트, 8스페이드, A클로버 - 결과: 21
jason카드: 7클로버, K스페이드 - 결과: 17
```

## To Do
- [x] 카드 슈트는 클로버, 스페이드, 다이아몬드, 하트로 이루어져 있다 (CardSuit)
- [x] 카드 숫자는 [2, 10], J, Q, K, A 로 이루어져 있다 (Card)
   - [x] J, Q, K 은 10, A 는 1 또는 11 로 계산할 수 있다 
- [x] 카드는 숫자와 슈트로 이루어져 있다 (Card)
- [x] 카드 숫자의 합을 계산할 수 있다 (CardTotal)
   - [x] 카드 숫자의 합이 21 보다 큰지 아닌지 판단할 수 있다
   - [x] 카드 숫자의 합이 21일 경우 블랙잭이라고 판단한다
   - [x] 카드에 Ace 가 있을 경우 21 보다 낮은 제일 높은 합을 반환한다
   - [x] 카드에 Ace 가 있고 총 합이 21이 넘을 경우 21 보다 높은 제일 낮은 합을 반환한다
- [x] 카드를 한장씩 뽑을 수 있다 (CardDrawer)
   - [x] 카드를 다 뽑은 경우 null을 반환한다
- [x] 카드들을 관리해주는 객체가 존재한다 (Cards)
   - [x] 카드를 가져올 수 있다
   - [x] 가지고 있는 카드들의 합을 구할 수 있다
   - [x] 한 장의 카드를 추가할 수 있다
- [x] 카드 덱은 52장의 카드로 이루어져 있고, 중복되는 카드는 없다 (CardDeck)

- [x] 플레이어는 이름을 가지고 있다 (Player)
- [x] 플레이어는 여러장의 카드를 가질 수 있다 (Player)

- [x] 블랙잭 게임을 진행할 수 있거나 없는 게임 상태가 존재한다 (PlayerState)
   - [x] 숫자 합이 21 미만이라면 게임 진행 상태가 된다 (Playing)
   - [x] 숫자 합이 21 이상이라면 게임이 진행 불가 상태가 된다 (Done)
- [x] 사용자가 게임을 진행할 수 있는 상태이고 hit 를 해 카드를 받은 후 총 숫자합이 21 미만일 경우 계속 게임 진행 상태로 유지된다
- [x] 사용자가 게임을 진행할 수 있는 상태이고 hit 를 해 카드를 받은 후 총 숫자합이 21 이상일 경우 게임 불가 상태가 된다
- [x] 사용자가 게임을 진행할 수 있는 상태이고 stand 를 했을 경우 게임 불가 상태가 된다

- [x] 게임에 참여할 사람의 이름을 입력받을 수 있다 (InputView)
   - [x] 한 개 이상의 유효한 이름이 주어지지 않을 경우 IllegalArgumentException 이 발생한다 
- [x] 플레이어의 현재 정보 (이름, 카드 정보 등) 을 프린트 할 수 있다 (OutputView)
- [x] 사용자가 카드를 더 받을지 안 받을지 입력받을 수 있다 (InputView)
   - [x] y 또는 n 가 아닐 경우 유효한 값을 받을 때까지 입력하도록 유도한다 

## 리뷰 반영
- [x] CardSuit 와 Card 의 이름을 가져오는 CardName 생성
- [x] CardTotalTest 에서 상수로 검증하도록 변경
- [x] isAboveTwentyOne 을 isBusted 로 변경
- [x] isBlackjack 제거
- [x] 점수를 계산할 때 ace가 있고 isBusted가 아닐경우 bonus 를 더하는 식으로 변경
- [x] Cards.getAll 메소드 리팩토링
- [x] CardDeck 생성자에 총 52장의 중복된 카드가 없다는 검증 진행하기
- [x] 하나 이상의 element 를 가지는 List 생성
- [x] object 을 비교할 때에는 isEqualTo 사용하기
- [x] Blackjack은 InputView, Outputview 에 의존하지 않도록 변경
- [ ] ~~PlayerState 에 isPlaying 필드 추가~~
- [x] 테스트 간결하게 리팩토링
