# kotlin-blackjack

## 프로그래밍 요구 사항
- 모든 기능을 TDD로 구현해 단위 테스트가 존재해야 한다. 단, UI(System.out, System.in) 로직은 제외
- indent(인덴트, 들여쓰기) depth를 2를 넘지 않도록 구현한다. 1까지만 허용한다.
- 모든 엔티티를 작게 유지한다.
- 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
- 기능을 구현하기 전에 README.md 파일에 구현할 기능 목록을 정리해 추가한다.
- git의 commit 단위는 앞 단계에서 README.md 파일에 정리한 기능 목록 단위로 추가한다.

### 기능 목록 
게임 입력 
- [x] 게임에 참여할 사람의 이름을 입력 받는다 
  - 쉼표 기준으로 분리한다 
  - 2명의 이름을 입력 받는다
  - 참가자의 이름은 공백일 수 없다.
- [ ] 플레이어는 게임을 시작할 때 베팅 금액을 정해야 한다 
게임 세팅
- [x] 입력 받은 사람의 이름으로 참가자를 생성한다 
- [x] 카드 52장 (1덱)을 세팅한다
  - 스페이스, 하트, 다이아, 클로버 4개의 각 문양이 2~10, jack, queen, king, ace 13장으로 구성
게임 진행
- 베팅 
  - [ ] 각 플레이어의 베팅 금액은 딜러에게 주어진다 
- 처음 카드 배분
  - [x] 참가자와 딜러에게 각각 2장의 카드를 나눠 준다 
  - [x] 받은 카드를 출력한다 
    - 딜러의 카드는 한 장만 출력한다
- 플레이어 카드 배분
  - [x] 참가자 중 1명에게 카드를 더 받을지 묻고, 참가자는 y 또는 n 으로 대답한다.
  - [x] 참가자가 y를 입력하면 카드 한 장을 더 지급한다
  - [x] 한 사람이 받은 카드를 계산했을 때 21을 넘는다면 더이상 카드를 받을 수 없다.
  - [x] 참가자가 n을 입력하면 다른 참가자에게 턴이 넘어간다. 두번째 참가자라면 딜러에게 턴이 넘어간다
  - [x] 참가자가 y, n을 입력하면 카드 지급 여부에 관계 없이 결과를 출력한다
- 딜러 카드 배분
  - [x] 처음 받은 2장의 카드의 합이 16이하이면 1장의 카드를 받고, 17이상이면 카드를 받지 않는다
  - [x] 딜러가 카드를 받았는지 여부를 출력한다
- 결과 출력
  - [x] 게임이 종료되면 딜러와 플레이어의 카드 점수를 출력한다
  - [x] 게임 최종 결과는 21을 넘지 않으면서, 21에 가까운 방식으로 계산한다 
    - 카드의 숫자 계산은 카드 숫자를 기본으로 하며, 예외로 Ace는 1 또는 11로 계산할 수 있으며, King, Queen, Jack은 각각 10으로 계산한다. 
- 베팅 결과 계산 
  - [ ] 베팅 결과를 계산한다
    - 블랙잭 : 처음 2장의 카드의 합이 21 / 버스트 : 카드의 합이 21점 초과 / 푸시 : 딜러와 동점 (무승부)
    - 블랙잭일 경우 1.5배를 딜러로부터 받는다
      - 딜러도 블랙잭일 경우 무승부로 베팅한 금액을 돌려 받는다 
    - 버스트일 경우 베팅 금액을 모두 잃는다
      - 딜러도 버스트일 경우 동일하게 딜러가 승리한다 (베팅 금액은 딜러에게) 
    - 그 외의 경우 
      - 딜러와의 승패 결과에 따라 이길 경우 베팅 금액을 돌려 받고, 패할 경우 해당 돈은 딜러에게 귀속된다. 
        - 이길 경우 : 베팅 금액을 돌려 받는다
          - 경우1) 플레이어 : 1~21 사이의 수 / 딜러 : 버스트 
          - 경우2) 플레이어 : 1~21 사이의 수 / 딜러 : 플레이어보다 낮은 1~21 사이의 수
        - 패할 경우 : 해당 돈은 딜러에게 귀속된다
          - 경우1) 플레이어 : 1~21 사이의 수 / 딜러 : 블랙잭
          - 경우2) 플레이어 : 1~21 사이의 수 / 딜러 : 플레이어보다 높은 1~21 사이의 수 
        - 무승부일 경우 : 베팅 금액을 돌려 받는다
          - 경우1) 딜러와 플레이어 모두 동일한 1~21 사이의 수
  - [ ] 베팅 결과를 출력한다
- 게임 종료
  - [x] 게임을 종료시킨다 
    - 카드 배분이 끝나면 (DistributionEnd) 게임을 종료시킨다 
    - 카드 배분 횟수를 초과하면 종료시킨다 
     - 한 사람이 최대 가질 수 있는 카드 수 11장  ( Ace(1) * 4 + 2 * 4 + 3 * 3) : 배분 9번 진행
     - 한 게임당 가질 수 있는 최대 카드 배분 횟수 : 초키 카드 배분 + 9번 진행 * 2 + 딜러 카드 배분 = 20
