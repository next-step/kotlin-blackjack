# 🚀 2단계 - 블랙잭

## 기능 요구사항

블랙잭 게임을 변형한 프로그램을 구현한다. 블랙잭 게임은 딜러와 플레이어 중 카드의 합이 21 또는 21에 가장 가까운 숫자를 가지는 쪽이 이기는 게임이다.

- 카드의 숫자 계산은 카드 숫자를 기본으로 하며, 예외로 Ace는 1 또는 11로 계산할 수 있으며, King, Queen, Jack은 각각 10으로 계산한다.
- 게임을 시작하면 플레이어는 두 장의 카드를 지급 받으며, 두 장의 카드 숫자를 합쳐 21을 초과하지 않으면서 21에 가깝게 만들면 이긴다. 21을 넘지 않을 경우 원한다면 얼마든지 카드를 계속 뽑을 수 있다.

## 실행 결과

```
게임에 참여할 사람의 이름을 입력하세요.(쉼표 기준으로 분리)
pobi,jason

pobi, jason에게 2장의 나누었습니다.
pobi카드: 2하트, 8스페이드
jason카드: 7클로버, K스페이드

pobi는 한장의 카드를 더 받겠습니까?(예는 y, 아니오는 n)
y
pobi카드: 2하트, 8스페이드, A클로버
pobi는 한장의 카드를 더 받겠습니까?(예는 y, 아니오는 n)
n
jason은 한장의 카드를 더 받겠습니까?(예는 y, 아니오는 n)
n
jason카드: 7클로버, K스페이드

pobi카드: 2하트, 8스페이드, A클로버 - 결과: 21
jason카드: 7클로버, K스페이드 - 결과: 17
```

## 사전 구현 계획

### 1. 카드 구현

- [x] Enum class를 사용하여 카드 덱 구현
  - [x] 각 카드는 '하트', '스페이드', '클럽', '다이아몬드' 문양을 가지며, 각 문양별로 Ace부터 King까지의 카드를 포함한다.
  - [x] 덱에서 카드가 나가게 되면 덱에는 해당 카드가 없어야 한다.
- [x] 카드 숫자 계산 규칙 설정: 숫자 카드는 해당 숫자대로, King, Queen, Jack은 10으로, Ace는 1 또는 11로 계산한다.
  - 이것은 `손패`가 결정하는 것이다.
- [x] Ace 카드의 가변적 계산 로직 구현: Ace는 상황에 따라 1 또는 11로 계산되도록 한다.
- [x] 카드 합계 계산 로직: 플레이어와 딜러의 각 손패의 총합을 계산한다. Ace의 경우 최적의 합계를 위해 동적으로 계산한다.
- [x] 플레이어의 추가 카드 요청 처리: 플레이어가 카드를 더 받기를 원할 경우 처리한다.

[//]: # (- [ ] 플레이어와 딜러의 초기 카드 할당: 게임 시작 시 플레이어와 딜러에게 각각 2장의 카드를 무작위로 할당한다.)

### 2. 사용자 인터페이스(UI) 개발

- [x] 게임 시작 전 플레이어 이름 입력 요청: 콘솔을 통해 플레이어의 이름을 입력받는다.
- [x] 게임 진행 상황 표시: 플레이어와 딜러의 현재 손패와 점수를 표시한다.
- [x] 추가 카드 받기 여부 결정: 플레이어에게 추가 카드를 받을지 여부를 묻는다.

### 3. 게임 규칙 및 결과 판정

- [x] 21점 초과 판정 로직: 플레이어 또는 딜러의 손패 합계가 21을 초과하면 게임에서 패배한다.
- [x] 승리 조건 계산: 플레이어와 딜러 중 21에 가장 근접한 쪽이 승리한다.
- [x] 게임 결과 출력: 최종 승자와 각 플레이어의 최종 손패 및 점수를 출력한다.

## 딜러가 추가된 사전 구현 계획

- [x] 딜러는 처음에 받은 2장의 합계가 16이하이면 반드시 1장의 카드를 추가로 받아야 하고, 17점 이상이면 추가로 받을 수 없다.
  - [x] 만일 딜러가 <Ace, 6>을 갖고 있다면?
  - [x] 딜러는 다양한 전략을 사용할 수 있도록 한다.

### 도메인 모델들이 결정되었다면 블랙잭 게임 구현 계획
도메인 모듈이 뷰에게 의존하지 않도록 구현할 것이다.

- [x] **게임 초기화 상태 확인**
  - [x] blackjackGame이 게임을 초기화해야 하는 상태인지 확인
  - [x] 필요한 경우, blackjackGame에 필요한 정보를 사용자로부터 받아 전달

- [x] **플레이어의 턴 상태 확인 (첫 번째)**
  - [x] blackjackGame이 플레이어들의 턴인 상태인지 확인
  - [x] 현재 blackjackGame의 플레이어 중 누구의 턴인지 확인
  - [x] 해당 플레이어가 카드를 뽑을 것인지 말 것인지를 사용자로부터 받아 전달

- [x] **플레이어의 턴 상태 재확인 (두 번째)**
  - [x] 다시 blackjackGame이 플레이어들의 턴인 상태인지 확인
  - [x] 다시 현재 플레이어 중 누구의 턴인지 확인
  - [x] 해당 플레이어가 카드를 뽑을 것인지 말 것인지를 사용자로부터 받아 전달

- [x] **마지막 플레이어의 턴과 딜러의 턴 상태 전환**
  - [x] 마지막 플레이어의 턴에서 더 이상 카드를 뽑을 수 없거나, 뽑지 않겠다는 결정이 내려진 경우 확인
  - [x] blackjackGame의 상태를 딜러의 턴 상태로 전환

- [x] **딜러의 턴 상태 확인**
  - [x] blackjackGame이 딜러의 턴인 상태인지 확인
  - [x] 딜러가 카드를 뽑을지 안 뽑을지 결정하고 사용자에게 알림
  - [x] blackjackGame을 `End` 상태로 전환

- [x] **End 상태 확인**
  - [x] blackjackGame이 End 상태인지 확인
  - [x] blackjackGame에게 BlackjackResult를 요청하고 사용자에게 보여줌

- [x] **게임 종료**
